@{
    ViewData["Title"] = "Home";
}

<!-- Hero Section with Animated Background -->
<section class="hero-section position-relative overflow-hidden text-white py-5 mb-5">
    <!-- Animated Background Pattern -->
    <div class="hero-bg-pattern"></div>
    
    <div class="container py-5 position-relative">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0" data-aos="fade-right">
                <div class="badge bg-white bg-opacity-25 text-white px-3 py-2 mb-3">
                    <i class="bi bi-stars"></i> #1 Marketing Platform
                </div>
                <h1 class="display-2 fw-bold mb-4 hero-title">
                    Transform Your Marketing with 
                    <span class="text-gradient">SMS, MMS & Email</span>
                </h1>
                <p class="lead mb-4 fs-5">
                    A powerful, enterprise-grade marketing platform to reach your customers where they are. 
                    Send targeted campaigns, track performance, and grow your business exponentially.
                </p>
                <div class="d-flex gap-3 flex-wrap mb-4">
                    <a href="@Url.Action("Register", "Auth")" class="btn btn-light btn-lg px-5 py-3 rounded-pill shadow-lg hover-scale">
                        <i class="bi bi-rocket-takeoff"></i> Get Started Free
                    </a>
                    <a href="#features" class="btn btn-outline-light btn-lg px-5 py-3 rounded-pill hover-scale">
                        <i class="bi bi-play-circle"></i> Watch Demo
                    </a>
                </div>
                <div class="d-flex gap-4 text-white-50">
                    <div>
                        <i class="bi bi-check-circle-fill text-success"></i> No credit card required
                    </div>
                    <div>
                        <i class="bi bi-check-circle-fill text-success"></i> 14-day free trial
                    </div>
                </div>
            </div>
            <div class="col-lg-6" data-aos="fade-left">
                <div class="hero-image-wrapper position-relative">
                    <!-- Dashboard Preview Mockup -->
                    <div class="dashboard-mockup bg-white rounded-4 shadow-2xl p-4">
                        <div class="d-flex gap-2 mb-3">
                            <div class="mockup-dot bg-danger"></div>
                            <div class="mockup-dot bg-warning"></div>
                            <div class="mockup-dot bg-success"></div>
                        </div>
                        <div class="mockup-content">
                            <div class="row g-3 mb-3">
                                <div class="col-4">
                                    <div class="stat-card bg-primary bg-opacity-10 rounded-3 p-3">
                                        <div class="h6 mb-1 text-primary">10M+</div>
                                        <small class="text-muted">Messages</small>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="stat-card bg-success bg-opacity-10 rounded-3 p-3">
                                        <div class="h6 mb-1 text-success">98%</div>
                                        <small class="text-muted">Delivered</small>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="stat-card bg-info bg-opacity-10 rounded-3 p-3">
                                        <div class="h6 mb-1 text-info">5K+</div>
                                        <small class="text-muted">Users</small>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-placeholder bg-light rounded-3 p-4">
                                <i class="bi bi-graph-up text-primary display-4"></i>
                            </div>
                        </div>
                    </div>
                    <!-- Floating Elements -->
                    <div class="floating-element floating-1">
                        <i class="bi bi-envelope-fill text-primary"></i>
                    </div>
                    <div class="floating-element floating-2">
                        <i class="bi bi-chat-dots-fill text-success"></i>
                    </div>
                    <div class="floating-element floating-3">
                        <i class="bi bi-bell-fill text-warning"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Trusted By Section -->
<section class="py-4 bg-light">
    <div class="container">
        <div class="text-center text-muted mb-3">
            <small class="text-uppercase fw-semibold">Trusted by leading companies worldwide</small>
        </div>
        <div class="row align-items-center justify-content-center g-4 text-muted">
            <div class="col-6 col-md-2 text-center">
                <i class="bi bi-building display-6"></i>
            </div>
            <div class="col-6 col-md-2 text-center">
                <i class="bi bi-shop display-6"></i>
            </div>
            <div class="col-6 col-md-2 text-center">
                <i class="bi bi-hospital display-6"></i>
            </div>
            <div class="col-6 col-md-2 text-center">
                <i class="bi bi-bank display-6"></i>
            </div>
            <div class="col-6 col-md-2 text-center">
                <i class="bi bi-briefcase display-6"></i>
            </div>
        </div>
    </div>
</section>

<!-- Features Section with Enhanced Design -->
<section id="features" class="features-section py-5 my-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2 mb-3">
                <i class="bi bi-stars"></i> Features
            </span>
            <h2 class="display-4 fw-bold mb-3">Powerful Features for Modern Marketing</h2>
            <p class="lead text-muted">Everything you need to create, manage, and optimize your campaigns</p>
        </div>
        
        <div class="row g-4">
            <!-- Feature 1 -->
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-card h-100">
                    <div class="feature-icon-wrapper mb-4">
                        <div class="feature-icon-bg bg-primary"></div>
                        <i class="bi bi-broadcast feature-icon-lg text-primary"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Multi-Channel Campaigns</h4>
                    <p class="text-muted mb-4">
                        Send SMS, MMS, and Email campaigns from one unified platform. 
                        Reach your audience on their preferred channels with seamless integration.
                    </p>
                    <a href="#" class="text-primary fw-semibold text-decoration-none">
                        Learn more <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
            </div>

            <!-- Feature 2 -->
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-card h-100">
                    <div class="feature-icon-wrapper mb-4">
                        <div class="feature-icon-bg bg-success"></div>
                        <i class="bi bi-graph-up-arrow feature-icon-lg text-success"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Advanced Analytics</h4>
                    <p class="text-muted mb-4">
                        Track campaign performance in real-time with detailed analytics and reporting. 
                        Make data-driven decisions to optimize your results and ROI.
                    </p>
                    <a href="#" class="text-success fw-semibold text-decoration-none">
                        Learn more <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
            </div>

            <!-- Feature 3 -->
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-card h-100">
                    <div class="feature-icon-wrapper mb-4">
                        <div class="feature-icon-bg bg-info"></div>
                        <i class="bi bi-clock-history feature-icon-lg text-info"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Automation & Scheduling</h4>
                    <p class="text-muted mb-4">
                        Schedule campaigns in advance and automate your marketing workflows. 
                        Save time, improve efficiency, and never miss an opportunity.
                    </p>
                    <a href="#" class="text-info fw-semibold text-decoration-none">
                        Learn more <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
            </div>

            <!-- Feature 4 -->
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-card h-100">
                    <div class="feature-icon-wrapper mb-4">
                        <div class="feature-icon-bg bg-warning"></div>
                        <i class="bi bi-people feature-icon-lg text-warning"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Smart Contact Management</h4>
                    <p class="text-muted mb-4">
                        Organize your contacts with dynamic groups and tags. 
                        Segment your audience intelligently for highly targeted messaging.
                    </p>
                    <a href="#" class="text-warning fw-semibold text-decoration-none">
                        Learn more <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
            </div>

            <!-- Feature 5 -->
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-card h-100">
                    <div class="feature-icon-wrapper mb-4">
                        <div class="feature-icon-bg bg-danger"></div>
                        <i class="bi bi-file-earmark-text feature-icon-lg text-danger"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Template Library</h4>
                    <p class="text-muted mb-4">
                        Create reusable message templates with dynamic variables. 
                        Personalize content at scale with our intuitive template engine.
                    </p>
                    <a href="#" class="text-danger fw-semibold text-decoration-none">
                        Learn more <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
            </div>

            <!-- Feature 6 -->
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-card h-100">
                    <div class="feature-icon-wrapper mb-4">
                        <div class="feature-icon-bg bg-secondary"></div>
                        <i class="bi bi-shield-check feature-icon-lg text-secondary"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Compliance & Security</h4>
                    <p class="text-muted mb-4">
                        Stay compliant with GDPR, CAN-SPAM, and TCPA regulations. 
                        Enterprise-grade security and encryption for your data.
                    </p>
                    <a href="#" class="text-secondary fw-semibold text-decoration-none">
                        Learn more <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section with Enhanced Animation -->
<section class="stats-section py-5 position-relative overflow-hidden">
    <div class="stats-bg-pattern"></div>
    <div class="container position-relative">
        <div class="row text-center g-4">
            <div class="col-md-3 col-6" data-aos="zoom-in" data-aos-delay="100">
                <div class="stat-item-enhanced">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-envelope-paper text-primary display-5"></i>
                    </div>
                    <h2 class="display-3 fw-bold text-primary mb-2 counter" data-target="10000000">0</h2>
                    <p class="text-muted mb-0 fw-semibold">Messages Delivered</p>
                </div>
            </div>
            <div class="col-md-3 col-6" data-aos="zoom-in" data-aos-delay="200">
                <div class="stat-item-enhanced">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-check-circle text-success display-5"></i>
                    </div>
                    <h2 class="display-3 fw-bold text-success mb-2"><span class="counter" data-target="98">0</span>%</h2>
                    <p class="text-muted mb-0 fw-semibold">Delivery Success Rate</p>
                </div>
            </div>
            <div class="col-md-3 col-6" data-aos="zoom-in" data-aos-delay="300">
                <div class="stat-item-enhanced">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-people text-info display-5"></i>
                    </div>
                    <h2 class="display-3 fw-bold text-info mb-2"><span class="counter" data-target="5000">0</span>+</h2>
                    <p class="text-muted mb-0 fw-semibold">Happy Customers</p>
                </div>
            </div>
            <div class="col-md-3 col-6" data-aos="zoom-in" data-aos-delay="400">
                <div class="stat-item-enhanced">
                    <div class="stat-icon mb-3">
                        <i class="bi bi-headset text-warning display-5"></i>
                    </div>
                    <h2 class="display-3 fw-bold text-warning mb-2">24<span class="fs-2">/7</span></h2>
                    <p class="text-muted mb-0 fw-semibold">Customer Support</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2 mb-3">
                <i class="bi bi-chat-quote"></i> Testimonials
            </span>
            <h2 class="display-4 fw-bold mb-3">What Our Customers Say</h2>
            <p class="lead text-muted">Join thousands of satisfied businesses worldwide</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="testimonial-card">
                    <div class="stars mb-3">
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                    </div>
                    <p class="mb-4">"This platform has revolutionized our marketing campaigns. The ROI has been incredible, and the ease of use is unmatched."</p>
                    <div class="d-flex align-items-center">
                        <div class="testimonial-avatar bg-primary text-white">
                            <i class="bi bi-person"></i>
                        </div>
                        <div>
                            <div class="fw-bold">Sarah Johnson</div>
                            <small class="text-muted">Marketing Director, TechCorp</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="testimonial-card">
                    <div class="stars mb-3">
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                    </div>
                    <p class="mb-4">"The analytics and automation features saved us countless hours. We've seen a 300% increase in customer engagement."</p>
                    <div class="d-flex align-items-center">
                        <div class="testimonial-avatar bg-success text-white">
                            <i class="bi bi-person"></i>
                        </div>
                        <div>
                            <div class="fw-bold">Mike Chen</div>
                            <small class="text-muted">CEO, GrowthHub</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="testimonial-card">
                    <div class="stars mb-3">
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                    </div>
                    <p class="mb-4">"Best marketing platform we've used. The multi-channel approach and detailed reporting give us complete control."</p>
                    <div class="d-flex align-items-center">
                        <div class="testimonial-avatar bg-info text-white">
                            <i class="bi bi-person"></i>
                        </div>
                        <div>
                            <div class="fw-bold">Emma Williams</div>
                            <small class="text-muted">Founder, RetailPlus</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Pricing Section -->
<section id="pricing" class="pricing-section py-5 my-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2 mb-3">
                <i class="bi bi-tag"></i> Pricing
            </span>
            <h2 class="display-4 fw-bold mb-3">Simple, Transparent Pricing</h2>
            <p class="lead text-muted">Choose the plan that fits your business needs. No hidden fees.</p>
        </div>
        
        <div id="pricing-plans" class="row g-4 justify-content-center">
            <!-- Pricing plans will be loaded dynamically -->
            <div class="col-12 text-center">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading pricing plans...</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section with Enhanced Design -->
<section class="cta-section position-relative overflow-hidden text-white py-5">
    <div class="cta-bg-pattern"></div>
    <div class="container text-center py-5 position-relative">
        <div data-aos="zoom-in">
            <span class="badge bg-white bg-opacity-25 text-white px-3 py-2 mb-4">
                <i class="bi bi-lightning-charge"></i> Limited Time Offer
            </span>
            <h2 class="display-3 fw-bold mb-4">Ready to Transform Your Marketing?</h2>
            <p class="lead mb-5 fs-4">Join thousands of businesses using our platform to grow their reach and revenue</p>
            <div class="d-flex gap-3 justify-content-center flex-wrap mb-4">
                <a href="@Url.Action("Register", "Auth")" class="btn btn-light btn-lg px-5 py-3 rounded-pill shadow-lg hover-scale">
                    <i class="bi bi-rocket-takeoff"></i> Start Free Trial
                </a>
                <a href="#pricing" class="btn btn-outline-light btn-lg px-5 py-3 rounded-pill hover-scale">
                    <i class="bi bi-currency-dollar"></i> View Pricing
                </a>
            </div>
            <p class="text-white-50">
                <i class="bi bi-check-circle-fill"></i> No credit card required
                <span class="mx-2">•</span>
                <i class="bi bi-check-circle-fill"></i> 14-day free trial
                <span class="mx-2">•</span>
                <i class="bi bi-check-circle-fill"></i> Cancel anytime
            </p>
        </div>
    </div>
</section>

@section Scripts {
    <script nonce="@Context.GetCspNonce()">
        const apiBaseUrl = '@ViewBag.ApiBaseUrl';

        // Load pricing plans on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadPricingPlans();
        });

        async function loadPricingPlans() {
            const container = document.getElementById('pricing-plans');
            
            try {
                // Fetch plans from API that are marked to show on landing page
                const response = await fetch(`${apiBaseUrl}/subscriptionplans/landing`);
                
                if (!response.ok) {
                    throw new Error('Failed to load pricing plans');
                }

                const result = await response.json();
                
                if (result.success && result.data && result.data.length > 0) {
                    renderPricingPlans(result.data);
                } else {
                    container.innerHTML = `
                        <div class="col-12">
                            <div class="alert alert-info text-center">
                                <i class="bi bi-info-circle"></i> No pricing plans available at this time.
                            </div>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading pricing plans:', error);
                container.innerHTML = `
                    <div class="col-12">
                        <div class="alert alert-warning text-center">
                            <i class="bi bi-exclamation-triangle"></i> Unable to load pricing plans at this time.
                        </div>
                    </div>
                `;
            }
        }

        function renderPricingPlans(plans) {
            const container = document.getElementById('pricing-plans');
            
            let html = '';
            plans.forEach((plan, index) => {
                // Parse features from JSON string if needed
                let features = [];
                try {
                    features = plan.features ? (typeof plan.features === 'string' ? JSON.parse(plan.features) : plan.features) : [];
                } catch (e) {
                    console.error('Error parsing features for plan:', plan.name, e);
                    features = [];
                }

                // Determine if plan is popular (middle plan typically)
                const isPopular = index === Math.floor(plans.length / 2);
                const popularBadge = isPopular ? '<div class="position-absolute top-0 start-50 translate-middle"><span class="badge bg-warning text-dark">Most Popular</span></div>' : '';
                const cardClass = isPopular ? 'border-primary shadow-lg' : 'border-0 shadow-sm';
                
                html += `
                    <div class="col-lg-4 col-md-6">
                        <div class="card h-100 ${cardClass} position-relative">
                            ${popularBadge}
                            <div class="card-body p-4">
                                <h3 class="card-title text-center mb-3">${escapeHtml(plan.name)}</h3>
                                <p class="text-muted text-center mb-4">${escapeHtml(plan.description || '')}</p>
                                <div class="text-center mb-4">
                                    <span class="display-4 fw-bold">$${plan.priceMonthly ? plan.priceMonthly.toFixed(2) : '0.00'}</span>
                                    <span class="text-muted">/month</span>
                                </div>
                                <ul class="list-unstyled mb-4">
                                    ${features.map(feature => `
                                        <li class="mb-2">
                                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                                            ${escapeHtml(feature)}
                                        </li>
                                    `).join('')}
                                    ${features.length === 0 ? '<li class="text-muted">No features listed</li>' : ''}
                                </ul>
                                <div class="text-center">
                                    <a href="/Auth/Register?plan=${plan.id}" class="btn ${isPopular ? 'btn-primary' : 'btn-outline-primary'} w-100">
                                        Choose ${escapeHtml(plan.name)}
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
}

